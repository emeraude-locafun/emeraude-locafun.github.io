backend:
  name: github
  repo: emeraude-locafun/emeraude-locafun.github.io
  branch: main
  base_url: https://decap-proxy-emeraude.olivier-barais.workers.dev
  auth_endpoint: /auth

media_folder: "public/images/uploads"
public_folder: "/images/uploads"

collections:
  # Collection pour les sections fixes (Hero, À propos)
  - name: "sections"
    label: "Sections de page"
    folder: "src/content/sections"
    create: false
    fields:
      - {label: "Titre", name: "title", widget: "string"}
      - {label: "Contenu", name: "body", widget: "markdown"}
      - {label: "Saison", name: "saison", widget: "string"}
      - {label: "Image de fond", name: "image", widget: "image", required: false}

  # Collection pour la flotte (Catamarans, Kayaks, Paddle)
  - name: "fleet"
    label: "La Flotte"
    folder: "src/content/fleet"
    create: true
    extension: "mdx"       # <--- Important : on force l'extension MDX
    format: "frontmatter"  # <--- Important pour que Decap gère bien le YAML + contenu
    slug: "{{slug}}"
    fields:
      - {label: "Nom du modèle", name: "title", widget: "string"} # Ex: Hobie Cat 16
      - {label: "Type", name: "type", widget: "select", options: ["Catamaran", "Kayak", "Paddle", "Dériveur"]}
      - {label: "Capacité", name: "capacity", widget: "string"} # Ex: 2 à 3 personnes
      - {label: "Description courte", name: "description", widget: "text"}
      - {label: "Image", name: "image", widget: "image"}
      - {label: "Détails complets", name: "body", widget: "markdown"} # Le texte MDX complet
# ... collections existantes ...

  - name: "pages"
    label: "Pages Spécifiques"
    folder: "src/content/pages"
    create: true
    extension: "mdx"       # <--- Important : on force l'extension MDX
    format: "frontmatter"  # <--- Important pour que Decap gère bien le YAML + contenu
    slug: "{{slug}}"
    fields:
      - {label: "Titre", name: "title", widget: "string"}
      - {label: "Sous-titre / Accroche", name: "subtitle", widget: "string"}
      - {label: "Image d'en-tête", name: "image", widget: "image"}
      - {label: "Contenu", name: "body", widget: "markdown"}
# ... collections fleet, sections, pages existantes ...

  # Nouvelle collection pour les paramètres globaux
  - name: "settings"
    label: "Paramètres du site"
    files:
      - name: "contact"
        label: "Contact & Réseaux"
        file: "src/content/settings/contact.md"
        fields:
          - {label: "Numéro affiché (ex: 06 12...)", name: "phoneDisplay", widget: "string"}
          - {label: "Numéro à appeler (Format intl: +336...)", name: "phoneNumber", widget: "string"}
          - {label: "Activer WhatsApp", name: "enableWhatsapp", widget: "boolean", default: true}
          - {label: "Numéro WhatsApp (Format sans +: 336...)", name: "whatsappNumber", widget: "string", required: false}
          - {label: "Message pré-rempli WhatsApp", name: "whatsappMessage", widget: "string", required: false}

# ... (après le fichier contact) ...
  - name: "pricing"
    label: "Paramètres de prix"
    files:
      - name: "pricing"
        label: "Grille des Tarifs"
        file: "src/content/pricing/pricing.md"
        fields:
          - {label: "Titre Happy Hour", name: "happyHourTitle", widget: "string"}
          - {label: "Détails Happy Hour (Markdown)", name: "happyHourText", widget: "markdown"}          
          - {label: "Petite phrase du bas (Subtext)", name: "happyHourSubtext", widget: "string", required: false, hint: "S'affiche en petit et en transparence"}
          - label: "Lignes du tableau"
            name: "pricing_table"
            widget: "list"
            fields:
              - {label: "Nom du Support", name: "name", widget: "string"}
              - {label: "Prix 1h (€)", name: "price_1h", widget: "number", required: false}
              - {label: "Prix 2h (€)", name: "price_2h", widget: "number", required: false}
              - {label: "Prix 3h (€)", name: "price_3h", widget: "number", required: false}
              - {label: "Prix 4h (€)", name: "price_4h", widget: "number", required: false}
              - {label: "Prix Journée (€)", name: "price_day", widget: "number", required: false}